warning: 'skybridgecompassapp': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/WeatherShaders.metal
warning: 'starscream': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/.build/checkouts/Starscream/Sources/Info.plist
[0/1] Planning build
Building for debugging...
[0/8] Write sources
[1/8] Write swift-version-41C403C3136A4E2D.txt
error: emit-module command failed with exit code 1 (use -v to see invocation)
[3/56] Emitting module SkyBridgeCore
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[4/56] Compiling SkyBridgeCore PerformanceTestSuite.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[5/56] Compiling SkyBridgeCore PerformanceTestView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[6/56] Compiling SkyBridgeCore PowerManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[7/56] Compiling SkyBridgeCore ThermalManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[8/56] Compiling SkyBridgeCore DeviceManagementExtensible.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[9/56] Compiling SkyBridgeCore TenantAccessController.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[10/56] Compiling SkyBridgeCore ConnectionDetailsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[11/56] Compiling SkyBridgeCore P2PConnectionView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[12/56] Compiling SkyBridgeCore SecuritySettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[13/56] Compiling SkyBridgeCore DeviceManagementSettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"
[14/61] Compiling SkyBridgeCore RealSystemMonitor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:281:9: error: 'default' label can only appear inside a 'switch' statement
279 |         }
280 |             return .warning
281 |         default:
    |         `- error: 'default' label can only appear inside a 'switch' statement
282 |             return .critical
283 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: error: invalid redeclaration of 'SystemThermalState'
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 
[15/61] Compiling SkyBridgeCore SystemMetricCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:281:9: error: 'default' label can only appear inside a 'switch' statement
279 |         }
280 |             return .warning
281 |         default:
    |         `- error: 'default' label can only appear inside a 'switch' statement
282 |             return .critical
283 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: error: invalid redeclaration of 'SystemThermalState'
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 
[16/61] Compiling SkyBridgeCore SystemMonitorManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:281:9: error: 'default' label can only appear inside a 'switch' statement
279 |         }
280 |             return .warning
281 |         default:
    |         `- error: 'default' label can only appear inside a 'switch' statement
282 |             return .critical
283 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: error: invalid redeclaration of 'SystemThermalState'
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 
[17/61] Compiling SkyBridgeCore SystemMonitorSettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:281:9: error: 'default' label can only appear inside a 'switch' statement
279 |         }
280 |             return .warning
281 |         default:
    |         `- error: 'default' label can only appear inside a 'switch' statement
282 |             return .critical
283 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: error: invalid redeclaration of 'SystemThermalState'
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 
[18/61] Compiling SkyBridgeCore SystemMonitorView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:281:9: error: 'default' label can only appear inside a 'switch' statement
279 |         }
280 |             return .warning
281 |         default:
    |         `- error: 'default' label can only appear inside a 'switch' statement
282 |             return .critical
283 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'SystemThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> SystemThermalState {
    |                                      `- error: 'SystemThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: note: found this candidate
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: error: invalid redeclaration of 'SystemThermalState'
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 
[19/61] Compiling SkyBridgeCore AppleSiliconOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:288:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
286 |             frameRate: 1000.0 / metalStats.averageFrameTime,
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:289:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
290 |             memoryUsage: metalStats.memoryUsage,
291 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:290:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
291 |             thermalState: thermalState,
292 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:367:65: error: type 'Bool' has no member 'highPerformance'
365 |         case .optimal:
366 |             // 最佳状态，启用所有增强功能
367 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
368 |             if let metalFX = metalFXProcessor {
369 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:379:65: error: type 'Bool' has no member 'balanced'
377 |         case .good:
378 |             // 良好状态，平衡性能和质量
379 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
380 |             if let metalFX = metalFXProcessor {
381 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:391:65: error: type 'Bool' has no member 'powerEfficient'
389 |         case .degraded:
390 |             // 性能下降，优先保证流畅度
391 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
392 |             if let metalFX = metalFXProcessor {
393 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:403:65: error: type 'Bool' has no member 'powerEfficient'
401 |         case .critical:
402 |             // 危险状态，最大程度优化
403 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
404 |             metalPerformanceOptimizer.setTargetFrameRate(30)
405 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:25: warning: no 'async' operations occur within 'await' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:21: warning: no calls to throwing functions occur within 'try' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:371:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
371 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
373 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:25: warning: no 'async' operations occur within 'await' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:21: warning: no calls to throwing functions occur within 'try' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:383:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
383 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
385 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:25: warning: no 'async' operations occur within 'await' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:21: warning: no calls to throwing functions occur within 'try' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:395:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
395 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
397 |                 }

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[20/61] Compiling SkyBridgeCore GCDOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:288:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
286 |             frameRate: 1000.0 / metalStats.averageFrameTime,
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:289:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
290 |             memoryUsage: metalStats.memoryUsage,
291 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:290:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
291 |             thermalState: thermalState,
292 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:367:65: error: type 'Bool' has no member 'highPerformance'
365 |         case .optimal:
366 |             // 最佳状态，启用所有增强功能
367 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
368 |             if let metalFX = metalFXProcessor {
369 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:379:65: error: type 'Bool' has no member 'balanced'
377 |         case .good:
378 |             // 良好状态，平衡性能和质量
379 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
380 |             if let metalFX = metalFXProcessor {
381 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:391:65: error: type 'Bool' has no member 'powerEfficient'
389 |         case .degraded:
390 |             // 性能下降，优先保证流畅度
391 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
392 |             if let metalFX = metalFXProcessor {
393 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:403:65: error: type 'Bool' has no member 'powerEfficient'
401 |         case .critical:
402 |             // 危险状态，最大程度优化
403 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
404 |             metalPerformanceOptimizer.setTargetFrameRate(30)
405 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:25: warning: no 'async' operations occur within 'await' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:21: warning: no calls to throwing functions occur within 'try' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:371:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
371 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
373 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:25: warning: no 'async' operations occur within 'await' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:21: warning: no calls to throwing functions occur within 'try' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:383:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
383 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
385 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:25: warning: no 'async' operations occur within 'await' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:21: warning: no calls to throwing functions occur within 'try' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:395:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
395 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
397 |                 }

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[21/61] Compiling SkyBridgeCore MemoryOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:288:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
286 |             frameRate: 1000.0 / metalStats.averageFrameTime,
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:289:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
290 |             memoryUsage: metalStats.memoryUsage,
291 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:290:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
291 |             thermalState: thermalState,
292 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:367:65: error: type 'Bool' has no member 'highPerformance'
365 |         case .optimal:
366 |             // 最佳状态，启用所有增强功能
367 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
368 |             if let metalFX = metalFXProcessor {
369 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:379:65: error: type 'Bool' has no member 'balanced'
377 |         case .good:
378 |             // 良好状态，平衡性能和质量
379 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
380 |             if let metalFX = metalFXProcessor {
381 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:391:65: error: type 'Bool' has no member 'powerEfficient'
389 |         case .degraded:
390 |             // 性能下降，优先保证流畅度
391 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
392 |             if let metalFX = metalFXProcessor {
393 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:403:65: error: type 'Bool' has no member 'powerEfficient'
401 |         case .critical:
402 |             // 危险状态，最大程度优化
403 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
404 |             metalPerformanceOptimizer.setTargetFrameRate(30)
405 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:25: warning: no 'async' operations occur within 'await' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:21: warning: no calls to throwing functions occur within 'try' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:371:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
371 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
373 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:25: warning: no 'async' operations occur within 'await' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:21: warning: no calls to throwing functions occur within 'try' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:383:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
383 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
385 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:25: warning: no 'async' operations occur within 'await' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:21: warning: no calls to throwing functions occur within 'try' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:395:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
395 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
397 |                 }

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[22/61] Compiling SkyBridgeCore MetalPerformanceOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:288:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
286 |             frameRate: 1000.0 / metalStats.averageFrameTime,
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:289:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
290 |             memoryUsage: metalStats.memoryUsage,
291 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:290:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
291 |             thermalState: thermalState,
292 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:367:65: error: type 'Bool' has no member 'highPerformance'
365 |         case .optimal:
366 |             // 最佳状态，启用所有增强功能
367 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
368 |             if let metalFX = metalFXProcessor {
369 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:379:65: error: type 'Bool' has no member 'balanced'
377 |         case .good:
378 |             // 良好状态，平衡性能和质量
379 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
380 |             if let metalFX = metalFXProcessor {
381 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:391:65: error: type 'Bool' has no member 'powerEfficient'
389 |         case .degraded:
390 |             // 性能下降，优先保证流畅度
391 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
392 |             if let metalFX = metalFXProcessor {
393 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:403:65: error: type 'Bool' has no member 'powerEfficient'
401 |         case .critical:
402 |             // 危险状态，最大程度优化
403 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
404 |             metalPerformanceOptimizer.setTargetFrameRate(30)
405 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:25: warning: no 'async' operations occur within 'await' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:21: warning: no calls to throwing functions occur within 'try' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:371:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
371 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
373 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:25: warning: no 'async' operations occur within 'await' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:21: warning: no calls to throwing functions occur within 'try' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:383:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
383 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
385 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:25: warning: no 'async' operations occur within 'await' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:21: warning: no calls to throwing functions occur within 'try' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:395:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
395 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
397 |                 }

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[23/61] Compiling SkyBridgeCore PerformanceCoordinator.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:482:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
480 |         gpuUsage: Float = 0.0,
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
483 |         powerState: PowerManager.PowerState = .normal,
484 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:483:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
481 |         memoryUsage: Float = 0.0,
482 |         thermalState: ThermalManager.ThermalState = .nominal,
483 |         powerState: PowerManager.PowerState = .normal,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
484 |         batteryLevel: Double = 1.0,
485 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer?
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:259:74: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
257 |     
258 |     /// 处理热量状态变化
259 |     private func handleThermalStateChange(_ thermalState: ThermalManager.ThermalState) async {
    |                                                                          `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
260 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
261 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:265:68: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
263 |     
264 |     /// 处理电源状态变化
265 |     private func handlePowerStateChange(_ powerState: PowerManager.PowerState) async {
    |                                                                    `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
266 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
267 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:280:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
278 |     /// 更新性能指标
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
281 |         powerState: PowerManager.PowerState,
282 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
279 |     private func updatePerformanceMetrics(
280 |         thermalState: ThermalManager.ThermalState,
281 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
282 |         batteryLevel: Double,
283 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:300:38: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
298 |     /// 计算整体性能状态
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
    |                                      `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
301 |         powerState: PowerManager.PowerState,
302 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:301:34: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
299 |     private func calculateOverallPerformanceState(
300 |         thermalState: ThermalManager.ThermalState,
301 |         powerState: PowerManager.PowerState,
    |                                  `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
302 |         batteryLevel: Double,
303 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:471:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
469 |     public let gpuUsage: Float
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
472 |     public let powerState: PowerManager.PowerState
473 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:472:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
470 |     public let memoryUsage: Float
471 |     public let thermalState: ThermalManager.ThermalState
472 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
473 |     public let batteryLevel: Double
474 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:501:45: error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
499 | /// 详细性能报告
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
    |                                             `- error: 'ThermalState' is not a member type of class 'SkyBridgeCore.ThermalManager'
502 |     public let powerState: PowerManager.PowerState
503 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:7:14: note: 'ThermalManager' declared here
  5 | /// 热量管理器 - 监控系统温度并进行热量调节
  6 | @MainActor
  7 | public class ThermalManager: ObservableObject {
    |              `- note: 'ThermalManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:502:41: error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
500 | public struct DetailedPerformanceReport {
501 |     public let thermalState: ThermalManager.ThermalState
502 |     public let powerState: PowerManager.PowerState
    |                                         `- error: 'PowerState' is not a member type of class 'SkyBridgeCore.PowerManager'
503 |     public let batteryLevel: Double
504 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:7:14: note: 'PowerManager' declared here
  5 | /// 电源管理器 - 监控电池状态和功耗优化
  6 | @MainActor
  7 | public class PowerManager: ObservableObject {
    |              `- note: 'PowerManager' declared here
  8 |     
  9 |     // MARK: - 发布属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:516:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
514 | public struct PerformanceProfile {
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
518 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:517:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
517 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
518 |     public let targetFrameRate: Int
519 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:522:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
512 | 
513 | /// 性能配置文件
514 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
515 |     public let name: String
516 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
520 |     
521 |     /// 预定义的性能配置
522 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
523 |         PerformanceProfile(
524 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'highPerformance'
523 |         PerformanceProfile(
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'quality'
524 |             name: "最高质量",
525 |             metalPerformanceMode: .highPerformance,
526 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
526 |             metalFXQuality: .quality,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'balanced'
530 |         PerformanceProfile(
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'balanced'
531 |             name: "平衡模式",
532 |             metalPerformanceMode: .balanced,
533 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .balanced,
534 |             targetFrameRate: 60,
535 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
536 |         ),
537 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:539:36: error: cannot infer contextual base in reference to member 'powerEfficient'
537 |         PerformanceProfile(
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:540:30: error: cannot infer contextual base in reference to member 'performance'
538 |             name: "省电模式",
539 |             metalPerformanceMode: .powerEfficient,
540 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:542:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
540 |             metalFXQuality: .performance,
541 |             targetFrameRate: 30,
542 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
543 |         )
544 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:288:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
286 |             frameRate: 1000.0 / metalStats.averageFrameTime,
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:289:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
287 |             frameTime: metalStats.averageFrameTime,
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
290 |             memoryUsage: metalStats.memoryUsage,
291 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:290:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
288 |             cpuUsage: metalStats.cpuUsage,
289 |             gpuUsage: metalStats.gpuUsage,
290 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
291 |             thermalState: thermalState,
292 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:367:65: error: type 'Bool' has no member 'highPerformance'
365 |         case .optimal:
366 |             // 最佳状态，启用所有增强功能
367 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
368 |             if let metalFX = metalFXProcessor {
369 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:379:65: error: type 'Bool' has no member 'balanced'
377 |         case .good:
378 |             // 良好状态，平衡性能和质量
379 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
380 |             if let metalFX = metalFXProcessor {
381 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:391:65: error: type 'Bool' has no member 'powerEfficient'
389 |         case .degraded:
390 |             // 性能下降，优先保证流畅度
391 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
392 |             if let metalFX = metalFXProcessor {
393 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:403:65: error: type 'Bool' has no member 'powerEfficient'
401 |         case .critical:
402 |             // 危险状态，最大程度优化
403 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
404 |             metalPerformanceOptimizer.setTargetFrameRate(30)
405 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:25: warning: no 'async' operations occur within 'await' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:370:21: warning: no calls to throwing functions occur within 'try' expression
368 |             if let metalFX = metalFXProcessor {
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
371 |                 } catch {
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:371:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
369 |                 do {
370 |                     try await metalFX.setQualityMode(.quality)
371 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
372 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
373 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:25: warning: no 'async' operations occur within 'await' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:382:21: warning: no calls to throwing functions occur within 'try' expression
380 |             if let metalFX = metalFXProcessor {
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
383 |                 } catch {
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:383:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
381 |                 do {
382 |                     try await metalFX.setQualityMode(.balanced)
383 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
384 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
385 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:25: warning: no 'async' operations occur within 'await' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:394:21: warning: no calls to throwing functions occur within 'try' expression
392 |             if let metalFX = metalFXProcessor {
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
395 |                 } catch {
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:395:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
393 |                 do {
394 |                     try await metalFX.setQualityMode(.performance)
395 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
396 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
397 |                 }

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[24/61] Compiling SkyBridgeCore WeatherMLPredictor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[25/61] Compiling SkyBridgeCore DeviceManagementExtensionManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[26/61] Compiling SkyBridgeCore DeviceManagementSettingsManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[27/61] Compiling SkyBridgeCore Models.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[28/61] Compiling SkyBridgeCore AppleSiliconFeatureDetector.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:150:45: error: 'SystemThermalState' is ambiguous for type lookup in this context
148 |     
149 |     /// 检测当前系统的热状态
150 |     public func getCurrentThermalState() -> SystemThermalState {
    |                                             `- error: 'SystemThermalState' is ambiguous for type lookup in this context
151 |         let thermalState = ProcessInfo.processInfo.thermalState
152 |         
    :
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- note: found this candidate
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:338:13: note: found this candidate
336 | 
337 | /// 系统监控热状态
338 | public enum SystemThermalState: String, CaseIterable {
    |             `- note: found this candidate
339 |     case normal = "正常"
340 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:358:13: error: invalid redeclaration of 'SystemThermalState'
356 | 
357 | /// 系统热状态
358 | public enum SystemThermalState: Sendable {
    |             `- error: invalid redeclaration of 'SystemThermalState'
359 |     case optimal      // 最佳状态
360 |     case good         // 良好状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[29/61] Compiling SkyBridgeCore QoSManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),
[30/61] Compiling SkyBridgeCore DynamicWallpaperManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),
[31/61] Compiling SkyBridgeCore Metal4Engine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),
[32/61] Compiling SkyBridgeCore Metal4RenderView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),
[33/61] Compiling SkyBridgeCore Metal4RenderingEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),
[34/61] Compiling SkyBridgeCore MetalFXProcessor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }
[35/61] Compiling SkyBridgeCore P2PSecurityManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }
[36/61] Compiling SkyBridgeCore DiskUsageCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }
[37/61] Compiling SkyBridgeCore NetworkMonitorCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }
[38/61] Compiling SkyBridgeCore PerformanceChartCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }
[39/61] Compiling SkyBridgeCore AuthenticationService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[40/61] Compiling SkyBridgeCore BackgroundTaskCoordinator.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[41/61] Compiling SkyBridgeCore AirPlayManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[42/61] Compiling SkyBridgeCore BluetoothManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[43/61] Compiling SkyBridgeCore DevicePermissionManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[44/61] Compiling SkyBridgeCore WiFiManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备
[45/61] Compiling SkyBridgeCore DeviceDiscoveryService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[46/61] Compiling SkyBridgeCore FileTransferEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[47/61] Compiling SkyBridgeCore FileTransferModels.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[48/61] Compiling SkyBridgeCore FileTransferView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[49/61] Compiling SkyBridgeCore FileTransferManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[50/61] Compiling SkyBridgeCore IntentBridge.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[51/61] Compiling SkyBridgeCore DeviceManagementView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[52/61] Compiling SkyBridgeCore SettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[53/61] Compiling SkyBridgeCore WeatherDataService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[54/61] Compiling SkyBridgeCore WeatherLocationService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[55/61] Compiling SkyBridgeCore resource_bundle_accessor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:327:1: error: extraneous '}' at top level
325 |         return NetworkStats(bytesIn: bytesIn, bytesOut: bytesOut)
326 |     }
327 | }
    | `- error: extraneous '}' at top level
328 | 
329 | // MARK: - 辅助结构体和枚举

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
