warning: 'skybridgecompassapp': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/WeatherShaders.metal
warning: 'starscream': found 1 file(s) which are unhandled; explicitly declare them as resources or exclude from the target
    /Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/.build/checkouts/Starscream/Sources/Info.plist
[0/1] Planning build
Building for debugging...
[0/7] Write swift-version-41C403C3136A4E2D.txt
[2/67] Compiling SkyBridgeCore PerformanceCoordinator.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[3/67] Compiling SkyBridgeCore PerformanceTestSuite.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[4/67] Compiling SkyBridgeCore PerformanceTestView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[5/67] Compiling SkyBridgeCore PowerManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[6/67] Compiling SkyBridgeCore ThermalManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[7/67] Compiling SkyBridgeCore DeviceManagementExtensible.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[8/67] Compiling SkyBridgeCore QoSManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:47:38: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 41 |     // MARK: - 初始化
 42 |     
 43 |     public init(device: MTLDevice) {
    |            `- note: add '@available' attribute to enclosing initializer
 44 |         // 初始化性能管理组件
 45 |         self.thermalManager = ThermalManager()
 46 |         self.powerManager = PowerManager()
 47 |         self.appleSiliconOptimizer = AppleSiliconOptimizer.shared
    |                                      |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                                      `- note: add 'if #available' version check
 48 |         self.metalPerformanceOptimizer = MetalPerformanceOptimizer(device: device)
 49 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:190:83: error: 'ThermalState' is ambiguous for type lookup in this context
188 |     private func setupPerformanceCoordination() {
189 |         // 设置热量管理器回调
190 |         thermalManager.setThermalStateChangeCallback { [weak self] (thermalState: ThermalState) in
    |                                                                                   `- error: 'ThermalState' is ambiguous for type lookup in this context
191 |             Task { @MainActor in
192 |                 await self?.handleThermalStateChange(thermalState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:197:77: error: 'PowerState' is ambiguous for type lookup in this context
195 |         
196 |         // 设置电源管理器回调
197 |         powerManager.setPowerStateChangeCallback { [weak self] (powerState: PowerState) in
    |                                                                             `- error: 'PowerState' is ambiguous for type lookup in this context
198 |             Task { @MainActor in
199 |                 await self?.handlePowerStateChange(powerState)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:278:48: error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
276 |         metalStats: PerformanceStats
277 |     ) {
278 |         performanceMetrics = PerformanceMetrics(
    |                                                `- error: extra arguments at positions #1, #3, #4, #6, #7, #8, #9 in call
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: 'init(averageFPS:frameTime:gpuUtilization:memoryUsage:powerConsumption:)' declared here
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:281:34: error: value of type 'PerformanceStats' has no member 'cpuUsage'
279 |             frameRate: 1000.0 / metalStats.averageFrameTime,
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'cpuUsage'
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:282:34: error: value of type 'PerformanceStats' has no member 'gpuUsage'
280 |             frameTime: metalStats.averageFrameTime,
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
    |                                  `- error: value of type 'PerformanceStats' has no member 'gpuUsage'
283 |             memoryUsage: metalStats.memoryUsage,
284 |             thermalState: thermalState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:283:37: error: value of type 'PerformanceStats' has no member 'memoryUsage'
281 |             cpuUsage: metalStats.cpuUsage,
282 |             gpuUsage: metalStats.gpuUsage,
283 |             memoryUsage: metalStats.memoryUsage,
    |                                     `- error: value of type 'PerformanceStats' has no member 'memoryUsage'
284 |             thermalState: thermalState,
285 |             powerState: powerState,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:360:65: error: type 'Bool' has no member 'highPerformance'
358 |         case .optimal:
359 |             // 最佳状态，启用所有增强功能
360 |             await metalPerformanceOptimizer.setPerformanceMode(.highPerformance)
    |                                                                 `- error: type 'Bool' has no member 'highPerformance'
361 |             if let metalFX = metalFXProcessor {
362 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:372:65: error: type 'Bool' has no member 'balanced'
370 |         case .good:
371 |             // 良好状态，平衡性能和质量
372 |             await metalPerformanceOptimizer.setPerformanceMode(.balanced)
    |                                                                 `- error: type 'Bool' has no member 'balanced'
373 |             if let metalFX = metalFXProcessor {
374 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:384:65: error: type 'Bool' has no member 'powerEfficient'
382 |         case .degraded:
383 |             // 性能下降，优先保证流畅度
384 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
385 |             if let metalFX = metalFXProcessor {
386 |                 do {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:396:65: error: type 'Bool' has no member 'powerEfficient'
394 |         case .critical:
395 |             // 危险状态，最大程度优化
396 |             await metalPerformanceOptimizer.setPerformanceMode(.powerEfficient)
    |                                                                 `- error: type 'Bool' has no member 'powerEfficient'
397 |             metalPerformanceOptimizer.setTargetFrameRate(30)
398 |             optimizations = [.aggressiveThermalThrottling, .emergencyPowerSaving, .minimumQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:25: warning: no 'async' operations occur within 'await' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                         `- warning: no 'async' operations occur within 'await' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:363:21: warning: no calls to throwing functions occur within 'try' expression
361 |             if let metalFX = metalFXProcessor {
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
364 |                 } catch {
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:364:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
362 |                 do {
363 |                     try await metalFX.setQualityMode(.quality)
364 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
365 |                     logger.error("❌ MetalFX质量模式设置失败: \(error.localizedDescription)")
366 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:25: warning: no 'async' operations occur within 'await' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                         `- warning: no 'async' operations occur within 'await' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:375:21: warning: no calls to throwing functions occur within 'try' expression
373 |             if let metalFX = metalFXProcessor {
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
376 |                 } catch {
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:376:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
374 |                 do {
375 |                     try await metalFX.setQualityMode(.balanced)
376 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
377 |                     logger.error("❌ MetalFX平衡模式设置失败: \(error.localizedDescription)")
378 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:25: warning: no 'async' operations occur within 'await' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                         `- warning: no 'async' operations occur within 'await' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:387:21: warning: no calls to throwing functions occur within 'try' expression
385 |             if let metalFX = metalFXProcessor {
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
    |                     `- warning: no calls to throwing functions occur within 'try' expression
388 |                 } catch {
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:388:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
386 |                 do {
387 |                     try await metalFX.setQualityMode(.performance)
388 |                 } catch {
    |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
389 |                     logger.error("❌ MetalFX性能模式设置失败: \(error.localizedDescription)")
390 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:180:13: warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
178 |         // 测试大块内存分配和操作
179 |         let largeDataSize = 1_000_000
180 |         let allocator = memoryOptimizer.getOptimizedAllocator(for: Double.self, count: largeDataSize)
    |             `- warning: initialization of immutable value 'allocator' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
181 |         
182 |         // 执行内存密集型操作

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceTestSuite.swift:401:13: warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
399 |         
400 |         // 计算方差
401 |         var meanArray = [Double](repeating: mean, count: dataSize)
    |             `- warning: variable 'meanArray' was never mutated; consider changing to 'let' constant
402 |         var diffArray = [Double](repeating: 0, count: dataSize)
403 |         var squaredDiffArray = [Double](repeating: 0, count: dataSize)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: error: invalid redeclaration of 'PowerState'
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'PowerState'
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:43: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                           `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:118:57: error: cannot infer contextual base in reference to member 'stable'
116 |         
117 |         guard recentData.count >= 2 else {
118 |             return TemperatureTrend(cpu: .stable, gpu: .stable)
    |                                                         `- error: cannot infer contextual base in reference to member 'stable'
119 |         }
120 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:130:23: error: 'TrendDirection' is ambiguous for type lookup in this context
128 |         let secondAvgGPU = secondHalf.map { $0.gpu }.reduce(0, +) / Double(secondHalf.count)
129 |         
130 |         let cpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
131 |         let gpuTrend: TrendDirection
132 |         
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:131:23: error: 'TrendDirection' is ambiguous for type lookup in this context
129 |         
130 |         let cpuTrend: TrendDirection
131 |         let gpuTrend: TrendDirection
    |                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
132 |         
133 |         let cpuDiff = secondAvgCPU - firstAvgCPU
    :
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[9/73] Compiling SkyBridgeCore FileTransferEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[10/73] Compiling SkyBridgeCore FileTransferModels.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[11/73] Compiling SkyBridgeCore FileTransferView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[12/73] Compiling SkyBridgeCore FileTransferManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[13/73] Compiling SkyBridgeCore IntentBridge.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[14/73] Compiling SkyBridgeCore WeatherMLPredictor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[15/73] Compiling SkyBridgeCore DeviceManagementExtensionManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:559:19: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 557 |                     // TODO: 实现文件传输启动逻辑
 558 |                     print("开始传输文件: \(url.lastPathComponent) 到设备: \(device.name)")
 559 |                 } catch {
     |                   `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 560 |                     print("传输启动失败: \(error)")
 561 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:573:26: warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 571 |             if provider.canLoadObject(ofClass: URL.self) {
 572 |                 group.enter()
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
     |                          `- warning: result of call to 'loadObject(ofClass:completionHandler:)' is unused [#no-usage]
 574 |                     if let url = url {
 575 |                         urls.append(url)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:575:25: warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 573 |                 provider.loadObject(ofClass: URL.self) { url, error in
 574 |                     if let url = url {
 575 |                         urls.append(url)
     |                         `- warning: mutation of captured var 'urls' in concurrently-executing code [#SendableClosureCaptures]
 576 |                     }
 577 |                     group.leave()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:37: warning: no 'async' operations occur within 'await' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                     `- warning: no 'async' operations occur within 'await' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/FileTransfer/FileTransferView.swift:877:33: warning: no calls to throwing functions occur within 'try' expression
 875 |                         Button("恢复") {
 876 |                             Task {
 877 |                                 try await engine.resumeTransfer(session.id)
     |                                 `- warning: no calls to throwing functions occur within 'try' expression
 878 |                             }
 879 |                         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:148:35: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
146 |         
147 |         if currentWeather.cloudCoverage < 0.3 && currentWeather.pressure > 1020 {
148 |             possibleTypes.append(.sunny)
    |                                   `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
149 |         }
150 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:174:13: warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
172 |         
173 |         // 分析湿度趋势
174 |         let humidityTrend = analyzeTrend(values: recent.map { $0.humidity })
    |             `- warning: initialization of immutable value 'humidityTrend' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
175 |         
176 |         // 综合判断

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:311:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
309 |         // 规则3: 气压上升 + 湿度下降 = 天气转晴
310 |         if pressureTrend == .rising && humidityTrend == .falling && currentWeather.pressure > 1015 {
311 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
312 |             confidence = 0.7
313 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:371:37: error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
369 |             predictedWeatherType = .snow
370 |         } else if predictedPressure > 1020 && predictedHumidity < 50 {
371 |             predictedWeatherType = .sunny
    |                                     `- error: type 'WeatherType' (aka 'WeatherDataService.WeatherType') has no member 'sunny'
372 |         }
373 |         

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[16/73] Compiling SkyBridgeCore DeviceManagementSettingsManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[17/73] Compiling SkyBridgeCore Models.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[18/73] Compiling SkyBridgeCore AppleSiliconFeatureDetector.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[19/73] Compiling SkyBridgeCore AppleSiliconOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[20/73] Compiling SkyBridgeCore GCDOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[21/73] Compiling SkyBridgeCore MemoryOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[22/73] Compiling SkyBridgeCore MetalPerformanceOptimizer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:211:29: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
209 |             result = sysctlbyname("machdep.cpu.brand_string", &buffer, &size, nil, 0)
210 |             if result == 0 {
211 |                 chipModel = String(cString: buffer)
    |                             `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
212 |             }
213 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:322:19: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
    |                   |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                   `- note: add 'if #available' version check
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
324 |             label: label,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconOptimizer.swift:323:16: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
310 | // MARK: - 扩展方法
311 | 
312 | extension DispatchQueue {
    | `- note: add '@available' attribute to enclosing extension
313 |     /// 创建Apple Silicon优化的队列
314 |     /// - Parameters:
    :
316 |     ///   - taskType: 任务类型
317 |     /// - Returns: 优化的队列
318 |     public static func appleSiliconOptimized(
    |                        `- note: add '@available' attribute to enclosing static method
319 |         label: String,
320 |         for taskType: TaskType
321 |     ) -> DispatchQueue {
322 |         let qos = AppleSiliconOptimizer.shared.recommendedQoS(for: taskType)
323 |         return AppleSiliconOptimizer.shared.createOptimizedQueue(
    |                |- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
    |                `- note: add 'if #available' version check
324 |             label: label,
325 |             qos: qos

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:185:13: warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
183 |     /// 计算最优分片大小
184 |     private func calculateOptimalChunkSize(for itemCount: Int) async -> Int {
185 |         let systemInfo = optimizer.getSystemInfo()
    |             `- warning: initialization of immutable value 'systemInfo' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
186 |         let recommendedConcurrency = await qosManager.recommendedConcurrency(for: .dataAnalysis)
187 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/GCDOptimizer.swift:249:17: warning: no 'async' operations occur within 'await' expression
247 |         monitoringTask = Task {
248 |             while !Task.isCancelled && isMonitoring {
249 |                 await updateSystemLoad()
    |                 `- warning: no 'async' operations occur within 'await' expression
250 |                 try? await Task.sleep(nanoseconds: 1_000_000_000) // 1秒更新一次
251 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:60:13: warning: no 'async' operations occur within 'await' expression
 58 |             
 59 |             // 清理内存上下文
 60 |             await context.cleanup()
    |             `- warning: no 'async' operations occur within 'await' expression
 61 |             
 62 |             return result

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[23/73] Compiling SkyBridgeCore DynamicWallpaperManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[24/73] Compiling SkyBridgeCore Metal4Engine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[25/73] Compiling SkyBridgeCore Metal4RenderView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[26/73] Compiling SkyBridgeCore Metal4RenderingEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[27/73] Compiling SkyBridgeCore MetalFXProcessor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[28/73] Compiling SkyBridgeCore P2PSecurityManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: error: invalid redeclaration of 'PerformanceMetrics'
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:61:66: error: argument passed to call that takes no arguments
 59 |         
 60 |         // 初始化服务组件
 61 |         self.renderingEngine = try Metal4RenderingEngine(device: device)
    |                                                                  `- error: argument passed to call that takes no arguments
 62 |         self.weatherDataService = WeatherDataService()
 63 |         self.locationService = WeatherLocationService()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:66:35: error: cannot find 'PerformanceMonitor' in scope
 64 |         self.mlPredictor = try WeatherMLPredictor()
 65 |         self.metalFXProcessor = try MetalFXProcessor(device: device)
 66 |         self.performanceMonitor = PerformanceMonitor()
    |                                   `- error: cannot find 'PerformanceMonitor' in scope
 67 |         
 68 |         // 设置渲染通道描述符

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:93:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 91 |             
 92 |             // 获取天气数据
 93 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
 94 |             
 95 |             // 启动渲染循环

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:17: warning: no 'async' operations occur within 'await' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |                 `- warning: no 'async' operations occur within 'await' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:89:13: warning: no calls to throwing functions occur within 'try' expression
 87 |         do {
 88 |             // 请求位置权限并获取当前位置
 89 |             try await locationService.requestLocationPermission()
    |             `- warning: no calls to throwing functions occur within 'try' expression
 90 |             let location = try await locationService.getCurrentLocation()
 91 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:116:13: warning: no 'async' operations occur within 'await' expression
114 |         // 停止所有服务
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
117 |             await locationService.stopLocationUpdates()
118 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:117:13: warning: no 'async' operations occur within 'await' expression
115 |         Task {
116 |             await weatherDataService.stopWeatherUpdates()
117 |             await locationService.stopLocationUpdates()
    |             `- warning: no 'async' operations occur within 'await' expression
118 |         }
119 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:130:29: error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
128 |         if isEnergyEfficiencyEnabled {
129 |             renderingQuality = .medium
130 |             renderingEngine.enableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'enableEnergyEfficiencyMode'
131 |             print("🔋 已启用能效模式")
132 |         } else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:134:29: error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
132 |         } else {
133 |             renderingQuality = .high
134 |             renderingEngine.disableEnergyEfficiencyMode()
    |                             `- error: value of type 'Metal4RenderingEngine' has no member 'disableEnergyEfficiencyMode'
135 |             print("⚡ 已禁用能效模式")
136 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:143:42: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
141 |         do {
142 |             let location = try await locationService.getCurrentLocation()
143 |             try await weatherDataService.fetchWeatherData(for: location)
    |                                          `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
144 |             print("🔄 天气数据刷新成功")
145 |         } catch {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:153:25: error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
151 |     public func setRenderingQuality(_ quality: RenderingQuality) {
152 |         renderingQuality = quality
153 |         renderingEngine.setRenderingQuality(quality)
    |                         `- error: value of type 'Metal4RenderingEngine' has no member 'setRenderingQuality'
154 |         print("🎨 渲染质量已设置为: \(quality)")
155 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:162:28: error: value of type 'WeatherDataService' has no member '$currentWeatherData'
160 |     private func setupDataBindings() {
161 |         // 监听天气数据变化
162 |         weatherDataService.$currentWeatherData
    |                            `- error: value of type 'WeatherDataService' has no member '$currentWeatherData'
163 |             .compactMap { $0 }
164 |             .sink { [weak self] weatherData in

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:176:57: error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
174 |             .sink { [weak self] location in
175 |                 Task {
176 |                     try? await self?.weatherDataService.fetchWeatherData(for: location)
    |                                                         `- error: value of type 'WeatherDataService' has no member 'fetchWeatherData'
177 |                 }
178 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:225:39: error: value of type 'Metal4RenderingEngine' has no member 'render'
223 |             
224 |             // 执行渲染
225 |             try await renderingEngine.render(
    |                                       `- error: value of type 'Metal4RenderingEngine' has no member 'render'
226 |                 commandBuffer: commandBuffer,
227 |                 renderPassDescriptor: renderPassDescriptor,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:238:27: error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
236 |             // 提交命令缓冲区
237 |             commandBuffer.commit()
238 |             commandBuffer.waitUntilCompleted()
    |                           `- error: instance method 'waitUntilCompleted' is unavailable from asynchronous contexts; Use 'await completed()' instead.
239 |             
240 |             // 更新性能指标

Metal.MTLCommandBuffer.waitUntilCompleted:2:6: note: 'waitUntilCompleted()' declared here
1 | protocol MTLCommandBuffer {
2 | func waitUntilCompleted()}
  |      `- note: 'waitUntilCompleted()' declared here
3 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:251:46: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
249 |     /// 创建渲染参数
250 |     private func createRenderingParameters() -> WeatherRenderingParameters {
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
    |                                              `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
252 |         
253 |         return WeatherRenderingParameters(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:253:16: error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
251 |         let weatherData = weatherDataService.currentWeatherData ?? WeatherData.default
252 |         
253 |         return WeatherRenderingParameters(
    |                `- error: the compiler is unable to type-check this expression in reasonable time; try breaking up the expression into distinct sub-expressions
254 |             weatherType: weatherData.weatherType,
255 |             intensity: weatherData.intensity,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:300:59: error: value of type 'WeatherDataService' has no member 'currentWeatherData'
298 |     /// 判断是否需要切换壁纸
299 |     private func shouldSwitchWallpaper(to weatherType: WeatherType) -> Bool {
300 |         guard let currentWeatherData = weatherDataService.currentWeatherData else {
    |                                                           `- error: value of type 'WeatherDataService' has no member 'currentWeatherData'
301 |             return true
302 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:324:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
322 |             print("✅ 壁纸切换完成")
323 |             
324 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
325 |             print("❌ 壁纸切换失败: \(error)")
326 |             currentWallpaperState = .error(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:354:45: error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
352 |         
353 |         // 使用渲染引擎生成壁纸纹理
354 |         let texture = await renderingEngine.generateWallpaperTexture(
    |                                             `- error: value of type 'Metal4RenderingEngine' has no member 'generateWallpaperTexture'
355 |             for: weatherType,
356 |             parameters: renderingParams

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:382:13: warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
380 |     /// 清理过期缓存
381 |     private func cleanupExpiredCache() {
382 |         let now = Date()
    |             `- warning: initialization of immutable value 'now' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
383 |         wallpaperCache = wallpaperCache.filter { _, wallpaper in
384 |             !wallpaper.isExpired

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:418:31: error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
416 |     /// 准备渲染资源
417 |     private func prepareRenderingResources(for weatherType: WeatherType) async {
418 |         await renderingEngine.prepareRenderingResources(for: weatherType)
    |                               `- error: value of type 'Metal4RenderingEngine' has no member 'prepareRenderingResources'
419 |     }
420 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:430:35: error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
428 |         for i in 0...steps {
429 |             let progress = Float(i) / Float(steps)
430 |             await renderingEngine.setTransitionProgress(progress)
    |                                   `- error: value of type 'Metal4RenderingEngine' has no member 'setTransitionProgress'
431 |             
432 |             try? await Task.sleep(nanoseconds: UInt64(stepDuration * 1_000_000_000))

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:438:58: error: cannot infer type of closure parameter 'metrics' without a type annotation
436 |     /// 启动性能监控
437 |     private func startPerformanceMonitoring() {
438 |         performanceMonitor.startMonitoring { [weak self] metrics in
    |                                                          `- error: cannot infer type of closure parameter 'metrics' without a type annotation
439 |             Task { @MainActor in
440 |                 self?.performanceMetrics = metrics

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:718:13: warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
716 |     
717 |     func endFrame() {
718 |         let frameTime = CACurrentMediaTime() - frameStartTime
    |             `- warning: initialization of immutable value 'frameTime' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
719 |         // 记录性能数据
720 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:120:19: error: call can throw but is not marked with 'try'
118 |             
119 |             // 初始化光线追踪
120 |             await setupRayTracing()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
121 |             
122 |             // 初始化粒子系统

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:123:19: error: call can throw but is not marked with 'try'
121 |             
122 |             // 初始化粒子系统
123 |             await setupParticleSystem()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
124 |             
125 |             // 初始化MetalFX

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:126:19: error: call can throw but is not marked with 'try'
124 |             
125 |             // 初始化MetalFX
126 |             await setupMetalFX()
    |                   |- error: call can throw but is not marked with 'try'
    |                   |- note: did you mean to use 'try'?
    |                   |- note: did you mean to handle error as optional value?
    |                   `- note: did you mean to disable error propagation?
127 |             
128 |             // 创建渲染资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:205:45: error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
203 |         }
204 |         
205 |         log.debug("粒子系统已更新: \(particleCount) 个粒子")
    |                               |- error: reference to property 'particleCount' in closure requires explicit use of 'self' to make capture semantics explicit
    |                               `- note: reference 'self.' explicitly
206 |     }
207 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:251:13: error: error is not handled because the enclosing function is not declared 'throws'
249 |         // 创建粒子计算管线
250 |         guard let particleComputeFunction = library.makeFunction(name: "particle_update_compute") else {
251 |             throw RenderingError.shaderCompilationFailed("粒子计算着色器未找到")
    |             `- error: error is not handled because the enclosing function is not declared 'throws'
252 |         }
253 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: errors thrown from here are not handled
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   `- error: errors thrown from here are not handled
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: errors thrown from here are not handled
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  `- error: errors thrown from here are not handled
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:254:35: error: expression is 'async' but is not marked with 'await'
252 |         }
253 |         
254 |         particleComputePipeline = try device.makeComputePipelineState(function: particleComputeFunction)
    |                                   |   `- note: call is 'async'
    |                                   `- error: expression is 'async' but is not marked with 'await'
255 |         
256 |         // 创建粒子渲染管线

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:265:34: error: expression is 'async' but is not marked with 'await'
263 |         particleRenderDescriptor.colorAttachments[0].destinationRGBBlendFactor = .oneMinusSourceAlpha
264 |         
265 |         particleRenderPipeline = try device.makeRenderPipelineState(descriptor: particleRenderDescriptor)
    |                                  |   `- note: call is 'async'
    |                                  `- error: expression is 'async' but is not marked with 'await'
266 |         
267 |         log.info("渲染管线设置完成")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:297:33: error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
295 |         }
296 |         
297 |         accelerationStructure = MTLAccelerationStructure(
    |                                 `- error: 'any MTLAccelerationStructure' cannot be constructed because it has no accessible initializers
298 |             buffer: accelerationStructureBuffer,
299 |             offset: 0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:282:30: error: expression is 'async' but is not marked with 'await'
280 |         }
281 |         
282 |         rayTracingPipeline = try device.makeComputePipelineState(function: rayTracingFunction)
    |                              |   `- note: call is 'async'
    |                              `- error: expression is 'async' but is not marked with 'await'
283 |         
284 |         // 创建加速结构（简化版本）

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:332:12: error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
330 |         temporalScalerDescriptor.outputHeight = 2160
331 |         
332 |         if temporalScalerDescriptor.supportsDevice(device) {
    |            `- error: static member 'supportsDevice' cannot be used on instance of type 'MTLFXTemporalScalerDescriptor'
333 |             temporalScaler = temporalScalerDescriptor.makeTemporalScaler(device: device)
334 |             log.info("MetalFX时域缩放器创建成功")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:428:19: error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
418 |     private func updateUniforms(parameters: WeatherRenderingParameters, viewportSize: CGSize) {
419 |         // 更新基础uniform数据
420 |         let uniformData = UniformData(
    |         `- note: change 'let' to 'var' to make it mutable
421 |             viewMatrix: matrix_identity_float4x4,
422 |             projectionMatrix: createProjectionMatrix(viewportSize: viewportSize),
    :
426 |         
427 |         uniformBuffer.contents().copyMemory(
428 |             from: &uniformData,
    |                   `- error: cannot pass immutable value as inout argument: 'uniformData' is a 'let' constant
429 |             byteCount: MemoryLayout<UniformData>.stride
430 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:449:19: error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
431 |         
432 |         // 更新天气参数数据
433 |         let weatherData = WeatherUniformData(
    |         `- note: change 'let' to 'var' to make it mutable
434 |             weatherType: Int32(parameters.weatherType.hashValue),
435 |             intensity: Float(parameters.intensity),
    :
447 |         
448 |         weatherParametersBuffer.contents().copyMemory(
449 |             from: &weatherData,
    |                   `- error: cannot pass immutable value as inout argument: 'weatherData' is a 'let' constant
450 |             byteCount: MemoryLayout<WeatherUniformData>.stride
451 |         )

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:640:36: error: ambiguous missing whitespace between unary and binary operators
638 |             velocity: simd_float3(
639 |                 Float.random(in: -1...1),
640 |                 Float.random(in: -5...-1),
    |                                    |- error: ambiguous missing whitespace between unary and binary operators
    |                                    |- note: could be binary '...' and prefix '-'
    |                                    `- note: could be postfix '...' and binary '-'
641 |                 Float.random(in: -1...1)
642 |             ),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:364:40: error: expression is 'async' but is not marked with 'await'
362 |         
363 |         do {
364 |             let computePipelineState = try device.makeComputePipelineState(function: denoiseFunction)
    |                                        |   `- note: call is 'async'
    |                                        `- error: expression is 'async' but is not marked with 'await'
365 |             
366 |             guard let computeEncoder = commandBuffer.makeComputeCommandEncoder() else {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/P2PSecurityManager.swift:135:13: warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
133 |     public func verifyConnectionRequest(_ request: P2PConnectionRequest) throws -> Bool {
134 |         // 重建要验证的数据
135 |         let requestData = "\(request.targetDevice.id):\(request.targetDevice.address):\(request.timestamp.timeIntervalSince1970)".data(using: .utf8)!
    |             `- warning: initialization of immutable value 'requestData' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
136 |         
137 |         // 重建源设备的公钥 - 注意：P2PConnectionRequest.sourceDevice是P2PDeviceInfo类型，没有publicKey
[29/73] Compiling SkyBridgeCore HardwareRemoteDesktopEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[30/73] Compiling SkyBridgeCore HardwareVideoEncoder.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[31/73] Compiling SkyBridgeCore ScreenCaptureEngine.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[32/73] Compiling SkyBridgeCore VideoEncodingTypes.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[33/73] Compiling SkyBridgeCore RemoteDesktopManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[34/73] Compiling SkyBridgeCore RemoteFrameRenderer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[35/73] Compiling SkyBridgeCore RemoteTextureFeed.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktop/ScreenCaptureEngine.swift:216:17: warning: no 'async' operations occur within 'await' expression
214 |             }
215 |             
216 |             try await stream.addStreamOutput(streamOutput, type: .screen, sampleHandlerQueue: .main)
    |                 `- warning: no 'async' operations occur within 'await' expression
217 |             try await stream.startCapture()
218 |             

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:118:18: warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: property declared here
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
116 |             
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
    |                  `- warning: main actor-isolated property 'activeSessions' can not be referenced from a Sendable closure
119 |                 session.stop()
120 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:119:25: warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
117 |             // 停止所有活跃会话
118 |             self.activeSessions.values.forEach { session in
119 |                 session.stop()
    |                         `- warning: call to main actor-isolated instance method 'stop()' in a synchronous nonisolated context [#ActorIsolatedCall]
120 |             }
121 |             
    :
331 |     }
332 | 
333 |     func stop() {
    |          `- note: calls to instance method 'stop()' from outside of its actor context are implicitly asynchronous
334 |         // 清理渲染器资源
335 |         renderer.teardown()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:123:18: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
121 |             
122 |             // 清空会话字典
123 |             self.activeSessions.removeAll()
    |                  `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
124 |             
125 |             // 在主线程更新UI状态

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:158:19: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
156 | 
157 |         sessionQueue.async(flags: .barrier) { [weak self] in
158 |             self?.activeSessions[session.id] = session
    |                   `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
159 |         }
160 |         updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:167:23: warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
 91 |     private var monitoringTimer: Timer?
 92 |     private var cpuTimeline = OrderedDictionary<Date, Double>()
 93 |     private var activeSessions: [UUID: RemoteDesktopSession] = [:]
    |                 `- note: mutation of this property is only permitted within the actor
 94 |     private let sessionQueue = DispatchQueue(label: "com.skybridge.compass.remote.sessions", attributes: .concurrent)
 95 |     /// UI 桥接：发布来自会话的最新远端帧纹理。
    :
165 |         } catch {
166 |             sessionQueue.async(flags: .barrier) { [weak self] in
167 |                 self?.activeSessions.removeValue(forKey: session.id)
    |                       `- warning: main actor-isolated property 'activeSessions' can not be mutated from a Sendable closure
168 |             }
169 |             updateSessionsSnapshot()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteDesktopManager.swift:135:31: warning: no 'async' operations occur within 'await' expression
133 | 
134 |     public func connect(to device: DiscoveredDevice, tenant: TenantDescriptor) async throws {
135 |         let credentials = try await tenantController.credentials(for: tenant.id)
    |                               `- warning: no 'async' operations occur within 'await' expression
136 |         guard let host = device.ipv4 ?? device.ipv6 else {
137 |             throw RemoteDesktopError.missingAddress(device)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:79:37: warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 77 |         let delta = interFrameInterval()
 78 |         let bandwidth = calculateBandwidth(bytes: byteCount, delta: delta)
 79 |         guard let textureCache, let device else {
    |                                     `- warning: immutable value 'device' was never used; consider replacing with '_' or removing it [#no-usage]
 80 |             log.error("Metal device unavailable; BGRA frame fallback active")
 81 |             return RenderMetrics(bandwidthMbps: bandwidth, latencyMilliseconds: delta * 1000)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:17: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                 `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:135:37: warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
133 |         if let textureRef, let texture = CVMetalTextureGetTexture(textureRef) {
134 |             renderQueue.async { [weak self] in
135 |                 self?.frameHandler?(texture)
    |                                     `- warning: capture of 'texture' with non-Sendable type 'any MTLTexture' in a '@Sendable' closure [#SendableClosureCaptures]
136 |             }
137 |         }

/Users/macbookpro/Desktop/Xcode-beta.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX26.1.sdk/System/Library/Frameworks/Metal.framework/Headers/MTLTexture.h:313:11: note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
311 |  */
312 | API_AVAILABLE(macos(10.11), ios(8.0))
313 | @protocol MTLTexture <MTLResource>
    |           `- note: protocol 'MTLTexture' does not conform to the 'Sendable' protocol
314 | 
315 | /*!

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:2:1: warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  1 | import Foundation
  2 | import Metal
    | `- warning: add '@preconcurrency' to treat 'Sendable'-related errors from module 'Metal' as warnings
  3 | import VideoToolbox
  4 | import CoreVideo

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/RemoteFrameRenderer.swift:339:23: warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
 17 | }
 18 | 
 19 | public final class RemoteFrameRenderer {
    |                    `- note: class 'RemoteFrameRenderer' does not conform to the 'Sendable' protocol
 20 |     private let device: MTLDevice?
 21 |     private let commandQueue: MTLCommandQueue?
    :
337 |     private func handleDecompressedFrame(imageBuffer: CVImageBuffer, presentationTimeStamp: CMTime) {
338 |         renderQueue.async { [weak self] in
339 |             guard let self else { return }
    |                       `- warning: capture of 'self' with non-Sendable type 'RemoteFrameRenderer?' in a '@Sendable' closure [#SendableClosureCaptures]
340 |             guard let textureCache else {
341 |                 self.log.error("Missing texture cache; cannot convert decoded frame to Metal texture")

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
error: emit-module command failed with exit code 1 (use -v to see invocation)
[36/73] Emitting module SkyBridgeCore
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4RenderingEngine.swift:9:8: warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | // 导入天气相关类型
  9 | import SkyBridgeCore
    |        `- warning: file 'Metal4RenderingEngine.swift' is part of module 'SkyBridgeCore'; ignoring import
 10 | 
 11 | /// Metal 4 核心渲染引擎 - 支持光线追踪、粒子系统和MetalFX增强

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/ML/WeatherMLPredictor.swift:55:23: error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
  7 | 
  8 | /// 天气数据结构
  9 | public struct WeatherData {
    |               `- note: consider making struct 'WeatherData' conform to the 'Sendable' protocol
 10 |     public let weatherType: WeatherType
 11 |     public let intensity: Double
    :
 53 |     
 54 |     /// 默认天气数据
 55 |     public static let `default` = WeatherData(
    |                       |- error: static property 'default' is not concurrency-safe because non-'Sendable' type 'WeatherData' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'default' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
 56 |         weatherType: .clear,
 57 |         intensity: 0.5,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:168:43: error: 'PowerState' is ambiguous for type lookup in this context
166 |     
167 |     /// 获取当前电源状态
168 |     public func getCurrentPowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
169 |         let powerSource = ProcessInfo.processInfo.isLowPowerModeEnabled
170 |         
    :
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: error: invalid redeclaration of 'PowerState'
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- error: invalid redeclaration of 'PowerState'
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:277:28: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
    |                            `- error: 'MemoryPool' is only available in macOS 14.0 or newer
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MemoryOptimizer.swift:279:82: error: 'MemoryPool' is only available in macOS 14.0 or newer
272 | // MARK: - 内存上下文
273 | 
274 | public final class MemoryContext: @unchecked Sendable {
    |                    `- note: add '@available' attribute to enclosing class
275 |     let availableMemory: Double
276 |     let memoryPressure: Double
277 |     private let allocator: MemoryPool
278 |     
279 |     fileprivate init(availableMemory: Double, memoryPressure: Double, allocator: MemoryPool) {
    |                 |                                                                `- error: 'MemoryPool' is only available in macOS 14.0 or newer
    |                 `- note: add '@available' attribute to enclosing initializer
280 |         self.availableMemory = availableMemory
281 |         self.memoryPressure = memoryPressure

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:16:60: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 14 |     @Published public private(set) var overallPerformanceState: OverallPerformanceState = .optimal
 15 |     @Published public private(set) var currentOptimizations: [OptimizationType] = []
 16 |     @Published public private(set) var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                                            `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 17 |     @Published public private(set) var isOptimizationActive: Bool = false
 18 |     
    :
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:507:15: note: found this candidate
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:23:40: error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
  8 | /// 性能协调器 - 统一管理所有性能优化组件
  9 | @MainActor
 10 | public class PerformanceCoordinator: ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 11 |     
 12 |     // MARK: - 发布属性
    :
 21 |     private let thermalManager: ThermalManager
 22 |     private let powerManager: PowerManager
 23 |     private let appleSiliconOptimizer: AppleSiliconOptimizer
    |                                        `- error: 'AppleSiliconOptimizer' is only available in macOS 14.0 or newer
 24 |     private let metalPerformanceOptimizer: MetalPerformanceOptimizer
 25 |     private let metalFXProcessor: MetalFXProcessor?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:252:59: error: 'ThermalState' is ambiguous for type lookup in this context
250 |     
251 |     /// 处理热量状态变化
252 |     private func handleThermalStateChange(_ thermalState: ThermalState) async {
    |                                                           `- error: 'ThermalState' is ambiguous for type lookup in this context
253 |         logger.info("🌡️ 热量状态变化处理: \(thermalState.rawValue)")
254 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:258:55: error: 'PowerState' is ambiguous for type lookup in this context
256 |     
257 |     /// 处理电源状态变化
258 |     private func handlePowerStateChange(_ powerState: PowerState) async {
    |                                                       `- error: 'PowerState' is ambiguous for type lookup in this context
259 |         logger.info("🔋 电源状态变化处理: \(powerState.rawValue)")
260 |         await coordinatePerformance()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:273:23: error: 'ThermalState' is ambiguous for type lookup in this context
271 |     /// 更新性能指标
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
274 |         powerState: PowerState,
275 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:274:21: error: 'PowerState' is ambiguous for type lookup in this context
272 |     private func updatePerformanceMetrics(
273 |         thermalState: ThermalState,
274 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
275 |         batteryLevel: Double,
276 |         metalStats: PerformanceStats

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:293:23: error: 'ThermalState' is ambiguous for type lookup in this context
291 |     /// 计算整体性能状态
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
294 |         powerState: PowerState,
295 |         batteryLevel: Double,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:294:21: error: 'PowerState' is ambiguous for type lookup in this context
292 |     private func calculateOverallPerformanceState(
293 |         thermalState: ThermalState,
294 |         powerState: PowerState,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
295 |         batteryLevel: Double,
296 |         frameRate: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:464:30: error: 'ThermalState' is ambiguous for type lookup in this context
462 |     public let gpuUsage: Float
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
465 |     public let powerState: PowerState
466 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:465:28: error: 'PowerState' is ambiguous for type lookup in this context
463 |     public let memoryUsage: Float
464 |     public let thermalState: ThermalState
465 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
466 |     public let batteryLevel: Double
467 |     public let timestamp: Date

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:475:23: error: 'ThermalState' is ambiguous for type lookup in this context
473 |         gpuUsage: Float = 0.0,
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
    |                       `- error: 'ThermalState' is ambiguous for type lookup in this context
476 |         powerState: PowerState = .normal,
477 |         batteryLevel: Double = 1.0,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:476:21: error: 'PowerState' is ambiguous for type lookup in this context
474 |         memoryUsage: Float = 0.0,
475 |         thermalState: ThermalState = .nominal,
476 |         powerState: PowerState = .normal,
    |                     `- error: 'PowerState' is ambiguous for type lookup in this context
477 |         batteryLevel: Double = 1.0,
478 |         timestamp: Date = Date()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: error: invalid redeclaration of 'PerformanceMetrics'
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- error: invalid redeclaration of 'PerformanceMetrics'
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:494:30: error: 'ThermalState' is ambiguous for type lookup in this context
492 | /// 详细性能报告
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
    |                              `- error: 'ThermalState' is ambiguous for type lookup in this context
495 |     public let powerState: PowerState
496 |     public let batteryLevel: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:495:28: error: 'PowerState' is ambiguous for type lookup in this context
493 | public struct DetailedPerformanceReport {
494 |     public let thermalState: ThermalState
495 |     public let powerState: PowerState
    |                            `- error: 'PowerState' is ambiguous for type lookup in this context
496 |     public let batteryLevel: Double
497 |     public let cpuTemperature: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:366:13: note: found this candidate
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:509:64: error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
507 | public struct PerformanceProfile {
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    |                                                                `- error: 'PerformanceMode' is not a member type of class 'SkyBridgeCore.MetalPerformanceOptimizer'
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
511 |     public let targetFrameRate: Int

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/MetalPerformanceOptimizer.swift:8:14: note: 'MetalPerformanceOptimizer' declared here
  6 | /// Metal性能优化器 - 专门针对Metal渲染管线的性能优化
  7 | @MainActor
  8 | public class MetalPerformanceOptimizer {
    |              `- note: 'MetalPerformanceOptimizer' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:510:49: error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
510 |     public let metalFXQuality: MetalFXProcessor.QualityMode
    |                                                 `- error: 'QualityMode' is not a member type of class 'SkyBridgeCore.MetalFXProcessor'
511 |     public let targetFrameRate: Int
512 |     public let optimizations: [OptimizationType]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/MetalFXProcessor.swift:8:14: note: 'MetalFXProcessor' declared here
  6 | /// MetalFX处理器 - 实现画质增强和性能优化
  7 | @MainActor
  8 | public class MetalFXProcessor {
    |              `- note: 'MetalFXProcessor' declared here
  9 |     
 10 |     // MARK: - 私有属性

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:515:23: error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
505 | 
506 | /// 性能配置文件
507 | public struct PerformanceProfile {
    |               `- note: consider making struct 'PerformanceProfile' conform to the 'Sendable' protocol
508 |     public let name: String
509 |     public let metalPerformanceMode: MetalPerformanceOptimizer.PerformanceMode
    :
513 |     
514 |     /// 预定义的性能配置
515 |     public static let profiles: [PerformanceProfile] = [
    |                       |- error: static property 'profiles' is not concurrency-safe because non-'Sendable' type '[PerformanceProfile]' may have shared mutable state [#MutableGlobalVariable]
    |                       |- note: add '@MainActor' to make static property 'profiles' part of global actor 'MainActor'
    |                       `- note: disable concurrency-safety checks if accesses are protected by an external synchronization mechanism
516 |         PerformanceProfile(
517 |             name: "最高质量",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:518:36: error: cannot infer contextual base in reference to member 'highPerformance'
516 |         PerformanceProfile(
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
    |                                    `- error: cannot infer contextual base in reference to member 'highPerformance'
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:519:30: error: cannot infer contextual base in reference to member 'quality'
517 |             name: "最高质量",
518 |             metalPerformanceMode: .highPerformance,
519 |             metalFXQuality: .quality,
    |                              `- error: cannot infer contextual base in reference to member 'quality'
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:521:49: error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
519 |             metalFXQuality: .quality,
520 |             targetFrameRate: 60,
521 |             optimizations: [.metalFXUpscaling, .highQualityRendering]
    |                                                 `- error: reference to member 'highQualityRendering' cannot be resolved without a contextual type
522 |         ),
523 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:525:36: error: cannot infer contextual base in reference to member 'balanced'
523 |         PerformanceProfile(
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
    |                                    `- error: cannot infer contextual base in reference to member 'balanced'
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:526:30: error: cannot infer contextual base in reference to member 'balanced'
524 |             name: "平衡模式",
525 |             metalPerformanceMode: .balanced,
526 |             metalFXQuality: .balanced,
    |                              `- error: cannot infer contextual base in reference to member 'balanced'
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:30: error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                              `- error: reference to member 'metalFXUpscaling' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:528:49: error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
526 |             metalFXQuality: .balanced,
527 |             targetFrameRate: 60,
528 |             optimizations: [.metalFXUpscaling, .adaptiveQuality]
    |                                                 `- error: reference to member 'adaptiveQuality' cannot be resolved without a contextual type
529 |         ),
530 |         PerformanceProfile(

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:532:36: error: cannot infer contextual base in reference to member 'powerEfficient'
530 |         PerformanceProfile(
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
    |                                    `- error: cannot infer contextual base in reference to member 'powerEfficient'
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:533:30: error: cannot infer contextual base in reference to member 'performance'
531 |             name: "省电模式",
532 |             metalPerformanceMode: .powerEfficient,
533 |             metalFXQuality: .performance,
    |                              `- error: cannot infer contextual base in reference to member 'performance'
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:30: error: reference to member 'powerSaving' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                              `- error: reference to member 'powerSaving' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:535:44: error: reference to member 'reducedQuality' cannot be resolved without a contextual type
533 |             metalFXQuality: .performance,
534 |             targetFrameRate: 30,
535 |             optimizations: [.powerSaving, .reducedQuality]
    |                                            `- error: reference to member 'reducedQuality' cannot be resolved without a contextual type
536 |         )
537 |     ]

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:15:52: error: 'PowerState' is ambiguous for type lookup in this context
 13 |     @Published public private(set) var isCharging: Bool = false
 14 |     @Published public private(set) var timeRemaining: TimeInterval = 0
 15 |     @Published public private(set) var powerState: PowerState = .normal
    |                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 16 |     @Published public private(set) var thermalPressure: Double = 0.0
 17 |     
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:30:45: error: 'PowerState' is ambiguous for type lookup in this context
 28 |     
 29 |     // 回调函数
 30 |     private var powerStateChangeCallback: ((PowerState) -> Void)?
    |                                             `- error: 'PowerState' is ambiguous for type lookup in this context
 31 |     private var batteryLevelChangeCallback: ((Double) -> Void)?
 32 |     private var chargingStateChangeCallback: ((Bool) -> Void)?
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:90:68: error: 'PowerState' is ambiguous for type lookup in this context
 88 |     
 89 |     /// 设置电源状态变化回调
 90 |     public func setPowerStateChangeCallback(_ callback: @escaping (PowerState) -> Void) {
    |                                                                    `- error: 'PowerState' is ambiguous for type lookup in this context
 91 |         powerStateChangeCallback = callback
 92 |     }
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PowerManager.swift:332:43: error: 'PowerState' is ambiguous for type lookup in this context
330 |     
331 |     /// 计算电源状态
332 |     private func calculatePowerState() -> PowerState {
    |                                           `- error: 'PowerState' is ambiguous for type lookup in this context
333 |         if batteryLevel <= criticalBatteryThreshold && !isCharging {
334 |             return .critical
    :
364 | 
365 | /// 电源状态
366 | public enum PowerState: String, CaseIterable {
    |             `- note: found this candidate
367 |     case normal = "正常"
368 |     case lowPower = "低功耗"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/AppleSiliconFeatureDetector.swift:367:13: note: found this candidate
365 | 
366 | /// 电源状态
367 | public enum PowerState: Sendable {
    |             `- note: found this candidate
368 |     case normal       // 正常电源
369 |     case lowPower     // 低功耗模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:11:61: error: 'ThermalState' is ambiguous for type lookup in this context
  9 |     // MARK: - 发布属性
 10 |     
 11 |     @Published public private(set) var currentThermalState: ThermalState = .nominal
    |                                                             `- error: 'ThermalState' is ambiguous for type lookup in this context
 12 |     @Published public private(set) var cpuTemperature: Double = 0.0
 13 |     @Published public private(set) var gpuTemperature: Double = 0.0
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:29:47: error: 'ThermalState' is ambiguous for type lookup in this context
 27 |     
 28 |     // 热量调节回调
 29 |     private var thermalStateChangeCallback: ((ThermalState) -> Void)?
    |                                               `- error: 'ThermalState' is ambiguous for type lookup in this context
 30 |     private var temperatureChangeCallback: ((Double, Double) -> Void)?
 31 |     
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:83:70: error: 'ThermalState' is ambiguous for type lookup in this context
 81 |     
 82 |     /// 设置热量状态变化回调
 83 |     public func setThermalStateChangeCallback(_ callback: @escaping (ThermalState) -> Void) {
    |                                                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
 84 |         thermalStateChangeCallback = callback
 85 |     }
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:258:69: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     
257 |     /// 计算热量状态
258 |     private func calculateThermalState(from temperature: Double) -> ThermalState {
    |                                                                     `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         if temperature >= criticalThreshold {
260 |             return .critical
    :
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: note: found this candidate
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: error: invalid redeclaration of 'ThermalState'
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: error: invalid redeclaration of 'TrendDirection'
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- error: invalid redeclaration of 'TrendDirection'
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:315:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
313 | /// 温度趋势
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
316 |     public let gpu: TrendDirection
317 | }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:316:21: error: 'TrendDirection' is ambiguous for type lookup in this context
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"
    :
314 | public struct TemperatureTrend {
315 |     public let cpu: TrendDirection
316 |     public let gpu: TrendDirection
    |                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
317 | }
318 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:17:47: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 15 |     
 16 |     /// 渲染性能指标
 17 |     @Published public var performanceMetrics: PerformanceMetrics = PerformanceMetrics()
    |                                               `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
 18 |     
 19 |     /// 是否启用能效模式
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:35:37: error: cannot find type 'PerformanceMonitor' in scope
 33 |     private var cancellables = Set<AnyCancellable>()
 34 |     private var renderTimer: Timer?
 35 |     private var performanceMonitor: PerformanceMonitor
    |                                     `- error: cannot find type 'PerformanceMonitor' in scope
 36 |     
 37 |     // Metal资源

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/DynamicWallpaperManager.swift:454:62: error: 'PerformanceMetrics' is ambiguous for type lookup in this context
452 |     
453 |     /// 根据性能自动调整渲染质量
454 |     private func autoAdjustRenderingQuality(basedOn metrics: PerformanceMetrics) {
    |                                                              `- error: 'PerformanceMetrics' is ambiguous for type lookup in this context
455 |         // 如果帧率过低，降低渲染质量
456 |         if metrics.averageFPS < 45 && renderingQuality == .ultra {
    :
505 | 
506 | /// 性能指标
507 | public struct PerformanceMetrics {
    |               `- note: found this candidate
508 |     var averageFPS: Double = 0.0
509 |     var frameTime: TimeInterval = 0.0

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/PerformanceCoordinator.swift:458:15: note: found this candidate
456 | 
457 | /// 性能指标
458 | public struct PerformanceMetrics {
    |               `- note: found this candidate
459 |     public let frameRate: Double
460 |     public let frameTime: Double

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Rendering/Metal4Engine.swift:56:29: error: 'CADisplayLink' is only available in macOS 14.0 or newer
  7 | /// Metal 4.0 高性能渲染引擎 - 集成AI推理、MetalFX增强和新一代GPU功能
  8 | @MainActor
  9 | public class Metal4Engine: NSObject, ObservableObject {
    |              `- note: add '@available' attribute to enclosing class
 10 |     
 11 |     // MARK: - 发布属性
    :
 54 |     
 55 |     private var performanceMonitor: Metal4PerformanceMonitor!
 56 |     private var frameTimer: CADisplayLink?
    |                             `- error: 'CADisplayLink' is only available in macOS 14.0 or newer
 57 |     private var lastFrameTime: CFTimeInterval = 0
 58 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

[#MutableGlobalVariable]: <https://docs.swift.org/compiler/documentation/diagnostics/mutable-global-variable>
[37/73] Compiling SkyBridgeCore SystemMonitorSettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[38/73] Compiling SkyBridgeCore SystemMonitorView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[39/73] Compiling SkyBridgeCore TenantAccessController.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[40/73] Compiling SkyBridgeCore ConnectionDetailsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[41/73] Compiling SkyBridgeCore P2PConnectionView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[42/73] Compiling SkyBridgeCore SecuritySettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorView.swift:97:28: error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 95 |                     icon: "cpu",
 96 |                     color: Color.blue,
 97 |                     trend: monitorManager.cpuTrend
    |                            `- error: referencing subscript 'subscript(dynamicMember:)' requires wrapper 'ObservedObject<SystemMonitorManager>.Wrapper'
 98 |                 )
 99 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:111:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
109 |         await withCheckedContinuation { (continuation: CheckedContinuation<Void, Never>) in
110 |             queue.async(flags: .barrier) {
111 |                 self.currentSession = session
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
112 |                 self.log.info("Bind authentication session for \(session.userIdentifier)")
113 |                 continuation.resume()

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:122:22: warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
103 |     private var currentSession: AuthSession?
    |                 `- note: mutation of this property is only permitted within the actor
104 | 
105 |     private init() {}
    :
120 |         await withCheckedContinuation { continuation in
121 |             queue.async(flags: .barrier) {
122 |                 self.currentSession = nil
    |                      `- warning: main actor-isolated property 'currentSession' can not be mutated from a Sendable closure
123 |                 continuation.resume()
124 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:141:33: warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    |                 `- note: property declared here
103 |     private var currentSession: AuthSession?
104 | 
    :
139 |                         return
140 |                     }
141 |                     guard !self.didBootstrap else {
    |                                 `- warning: main actor-isolated property 'didBootstrap' can not be referenced from a Sendable closure
142 |                         continuation.resume()
143 |                         return

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:161:13: warning: variable 'tenant' was never mutated; consider changing to 'let' constant
159 |                                 domain: String?,
160 |                                 permissions: TenantPermission) throws -> TenantDescriptor {
161 |         var tenant = TenantDescriptor(displayName: displayName,
    |             `- warning: variable 'tenant' was never mutated; consider changing to 'let' constant
162 |                                       username: username,
163 |                                       domain: domain,

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/TenantAccessController.swift:195:41: warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
 98 |     private let keychainService = "com.skybridge.compass.tenants"
 99 |     private let tenantsSubject = CurrentValueSubject<[TenantDescriptor], Never>([])
100 |     private let activeTenantSubject = CurrentValueSubject<TenantDescriptor?, Never>(nil)
    |                 `- note: property declared here
101 |     private let queue = DispatchQueue(label: "com.skybridge.compass.tenants", attributes: .concurrent)
102 |     private var didBootstrap = false
    :
193 |         return try await withCheckedThrowingContinuation { (continuation: CheckedContinuation<TenantDescriptor, Error>) in
194 |             queue.async {
195 |                 guard let tenant = self.activeTenantSubject.value else {
    |                                         `- warning: main actor-isolated property 'activeTenantSubject' can not be referenced from a Sendable closure
196 |                     continuation.resume(throwing: TenantAccessError.noActiveTenant)
197 |                     return
[43/73] Compiling SkyBridgeCore AuthenticationService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[44/73] Compiling SkyBridgeCore BackgroundTaskCoordinator.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[45/73] Compiling SkyBridgeCore AirPlayManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[46/73] Compiling SkyBridgeCore BluetoothManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[47/73] Compiling SkyBridgeCore DevicePermissionManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[48/73] Compiling SkyBridgeCore WiFiManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[49/73] Compiling SkyBridgeCore DeviceDiscoveryService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/AirPlayManager.swift:232:13: warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
230 |     /// 根据设置过滤设备
231 |     private func filterDevicesBySettings() {
232 |         let deviceSettings = DeviceManagementSettingsManager.shared
    |             `- warning: initialization of immutable value 'deviceSettings' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
233 |         let settingsManager = SettingsManager.shared
234 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Device/BluetoothManager.swift:249:9: warning: no calls to throwing functions occur within 'try' expression
247 |         
248 |         // 使用 TaskGroup 进行并发安全的设备连接
249 |         try await withThrowingTaskGroup(of: Void.self) { group in
    |         `- warning: no calls to throwing functions occur within 'try' expression
250 |             group.addTask {
251 |                 // 在后台队列中查找设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:326:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:455:11: error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
453 | }
454 | 
455 | extension DeviceDiscoveryService: @unchecked Sendable {}
    | |         `- error: 'DeviceDiscoveryService' is only available in macOS 14.0 or newer
    | `- note: add '@available' attribute to enclosing extension
456 | 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:51: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                   `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:80:63: warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 78 |         let devices = allResults.compactMap { result -> DiscoveredDevice? in
 79 |             switch result.endpoint {
 80 |             case .service(let name, let type, let domain, let interface):
    |                                                               `- warning: immutable value 'interface' was never used; consider replacing with '_' or removing it [#no-usage]
 81 |                 return DiscoveredDevice(
 82 |                     id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:146:29: warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
144 |                         guard let self = self else { return }
145 |                         
146 |                         let qos = self.optimizer.recommendedQoS(for: capturedTaskType)
    |                             `- warning: initialization of immutable value 'qos' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
147 |                         let queue = DispatchQueue.appleSiliconOptimized(
148 |                             label: "discovery.\(capturedTaskName.lowercased().replacingOccurrences(of: " ", with: ""))",

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:222:58: warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
220 |             
221 |             for result in results {
222 |                 if case .service(let name, let type, let domain, _) = result.endpoint {
    |                                                          `- warning: immutable value 'domain' was never used; consider replacing with '_' or removing it [#no-usage]
223 |                     let device = DiscoveredDevice(
224 |                         id: UUID(),

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:347:35: warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
345 |                                    &hostname, socklen_t(hostname.count),
346 |                                    nil, socklen_t(0), NI_NUMERICHOST)
347 |                         address = String(cString: hostname)
    |                                   `- warning: 'init(cString:)' is deprecated: Use String(decoding: array, as: UTF8.self) instead, after truncating the null termination. [#DeprecatedDeclaration]
348 |                         break
349 |                     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:378:25: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
357 |     
358 |     /// Ping主机检测
359 |     private func pingHost(_ ip: String) {
    |                  `- note: add '@available' attribute to enclosing instance method
360 |         // 简化的ping实现，实际应用中可以使用更复杂的网络检测
361 |         let connection = NWConnection(host: NWEndpoint.Host(ip), port: 80, using: .tcp)
    :
376 |                 DispatchQueue.main.async {
377 |                     if !(self?.discoveredDevices.contains(where: { $0.ipv4 == ip }) ?? true) {
378 |                         self?.discoveredDevices.append(device)
    |                         |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                         `- note: add 'if #available' version check
379 |                     }
380 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/DeviceDiscoveryService.swift:417:29: error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
324 | 
325 | // 扩展以支持Apple Silicon优化
326 | extension DeviceDiscoveryService {
    | `- note: add '@available' attribute to enclosing extension
327 |     /// 获取本地IP地址
328 |     private func getLocalIPAddress() -> String? {
    :
400 |     
401 |     /// 扫描特定端口
402 |     private func scanPort(ip: String, port: Int) {
    |                  `- note: add '@available' attribute to enclosing instance method
403 |         let connection = NWConnection(
404 |             host: NWEndpoint.Host(ip), 
    :
415 |                         let serviceType = self?.getServiceType(for: port) ?? "unknown"
416 |                         if !(self?.discoveredDevices[deviceIndex].services.contains(serviceType) ?? true) {
417 |                             self?.discoveredDevices[deviceIndex].services.append(serviceType)
    |                             |- error: cannot pass as inout because setter for 'discoveredDevices' is only available in macOS 14.0 or newer
    |                             `- note: add 'if #available' version check
418 |                         }
419 |                     }

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[50/73] Compiling SkyBridgeCore DiskUsageCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[51/73] Compiling SkyBridgeCore NetworkMonitorCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[52/73] Compiling SkyBridgeCore PerformanceChartCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[53/73] Compiling SkyBridgeCore RealSystemMonitor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[54/73] Compiling SkyBridgeCore SystemMetricCard.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[55/73] Compiling SkyBridgeCore SystemMonitorManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:184:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
182 |             startAnimations()
183 |         }
184 |         .onChange(of: uploadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
185 |             triggerUploadAnimation()
186 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/NetworkMonitorCard.swift:187:10: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
  3 | /// 网络监控卡片 - 显示网络使用情况和统计信息
  4 | /// 符合macOS设计规范，提供详细的网络监控信息
  5 | public struct NetworkMonitorCard: View {
    |               `- note: add '@available' attribute to enclosing struct
  6 |     
  7 |     // MARK: - 属性
    :
 39 |     // MARK: - 视图主体
 40 |     
 41 |     public var body: some View {
    |                `- note: add '@available' attribute to enclosing property
 42 |         VStack(alignment: .leading, spacing: 16) {
 43 |             // 标题和连接状态
    :
185 |             triggerUploadAnimation()
186 |         }
187 |         .onChange(of: downloadSpeed) { _, _ in
    |          |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
    |          `- note: add 'if #available' version check
188 |             triggerDownloadAnimation()
189 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:258:38: error: 'ThermalState' is ambiguous for type lookup in this context
256 |     /// 获取热状态
257 |     /// - Returns: 系统热状态
258 |     public func getThermalState() -> ThermalState {
    |                                      `- error: 'ThermalState' is ambiguous for type lookup in this context
259 |         var thermalLevel: UInt32 = 0
260 |         let result = IOPMGetThermalWarningLevel(&thermalLevel)
    :
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:285:13: note: found this candidate
283 | 
284 | /// 热量状态
285 | public enum ThermalState: String, CaseIterable {
    |             `- note: found this candidate
286 |     case nominal = "正常"
287 |     case fair = "良好"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/RealSystemMonitor.swift:334:13: error: invalid redeclaration of 'ThermalState'
332 | 
333 | /// 系统热状态
334 | public enum ThermalState: String, CaseIterable {
    |             `- error: invalid redeclaration of 'ThermalState'
335 |     case normal = "正常"
336 |     case warning = "警告"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:14:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 12 |     let icon: String
 13 |     let color: Color
 14 |     let trend: TrendDirection?
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 15 |     let isLoading: Bool
 16 |     

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:23:37: error: 'TrendDirection' is ambiguous for type lookup in this context
 21 |     
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
    |                                     `- error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:24:40: error: 'TrendDirection' is ambiguous for type lookup in this context
 22 |     // 趋势数据
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
    |                                        `- error: 'TrendDirection' is ambiguous for type lookup in this context
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:25:47: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |     @Published public var cpuTrend: TrendDirection = .stable
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
    |                                               `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
 27 |     
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:26:49: error: 'TrendDirection' is ambiguous for type lookup in this context
 24 |     @Published public var memoryTrend: TrendDirection = .stable
 25 |     @Published public var networkUploadTrend: TrendDirection = .stable
 26 |     @Published public var networkDownloadTrend: TrendDirection = .stable
    |                                                 `- error: 'TrendDirection' is ambiguous for type lookup in this context
 27 |     
 28 |     // 历史数据
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:213:71: error: 'TrendDirection' is ambiguous for type lookup in this context
211 |     }
212 |     
213 |     private func calculateTrend(current: Double, previous: Double) -> TrendDirection {
    |                                                                       `- error: 'TrendDirection' is ambiguous for type lookup in this context
214 |         let threshold = 0.05 // 5%的变化阈值
215 |         let change = (current - previous) / max(previous, 1.0)
    :
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: error: invalid redeclaration of 'TrendDirection'
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- error: invalid redeclaration of 'TrendDirection'
280 |     case up = "上升"
281 |     case down = "下降"
[56/73] Compiling SkyBridgeCore P2PSecurityTypes.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[57/73] Compiling SkyBridgeCore TLSSecurityManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[58/73] Compiling SkyBridgeCore SettingsDocument.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[59/73] Compiling SkyBridgeCore SettingsManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[60/73] Compiling SkyBridgeCore VideoTransferSettingsManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[61/73] Compiling SkyBridgeCore SystemMetricsService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Settings/VideoTransferSettingsManager.swift:6:8: warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  4 | 
  5 | // 导入视频传输相关的模型
  6 | import SkyBridgeCore
    |        `- warning: file 'VideoTransferSettingsManager.swift' is part of module 'SkyBridgeCore'; ignoring import
  7 | 
  8 | /// 视频传输设置管理器 - 管理视频分辨率、帧率等配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:120:13: warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }
120 |             completion(error)
    |             |- warning: capture of 'completion' with non-Sendable type '((any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |             `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
121 |         })
122 |     }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:115:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
113 |             if let error = error {
114 |                 print("❌ TLS数据发送失败: \(error)")
115 |                 self.tlsStatistics.errorCount += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:117:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
115 |                 self.tlsStatistics.errorCount += 1
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
118 |                 self.tlsStatistics.messagesSent += 1
119 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:118:22: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
116 |             } else {
117 |                 self.tlsStatistics.bytesSent += UInt64(data.count)
118 |                 self.tlsStatistics.messagesSent += 1
    |                      `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
119 |             }
120 |             completion(error)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:134:17: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
132 |         connection.receive(minimumIncompleteLength: 4, maximumLength: 4) { [weak self] lengthData, _, isComplete, error in
133 |             if let error = error {
134 |                 completion(nil, error)
    |                 |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                 `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
135 |                 return
136 |             }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:149:21: warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
147 |             connection.receive(minimumIncompleteLength: Int(length), maximumLength: Int(length)) { data, _, isComplete, error in
148 |                 if let error = error {
149 |                     completion(nil, error)
    |                     |- warning: capture of 'completion' with non-Sendable type '(Data?, (any Error)?) -> Void' in a '@Sendable' closure [#SendableClosureCaptures]
    |                     `- note: a function type must be marked '@Sendable' to conform to 'Sendable'
150 |                     return
151 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:154:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
152 |                 
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
155 |                     self?.tlsStatistics.messagesReceived += 1
156 |                 }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:27: warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
 17 |     @Published public private(set) var activeConnections: [String: NWConnection] = [:]
 18 |     /// TLS统计信息
 19 |     @Published public private(set) var tlsStatistics: TLSStatistics = TLSStatistics()
    |                                        `- note: mutation of this property is only permitted within the actor
 20 |     
 21 |     // MARK: - 初始化
    :
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                           `- warning: main actor-isolated property 'tlsStatistics' can not be mutated from a Sendable closure
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:155:21: warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
153 |                 if let data = data {
154 |                     self?.tlsStatistics.bytesReceived += UInt64(data.count)
155 |                     self?.tlsStatistics.messagesReceived += 1
    |                     `- warning: reference to captured var 'self' in concurrently-executing code [#SendableClosureCaptures]
156 |                 }
157 |                 

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:251:20: warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
249 |         case .server:
250 |             // 服务器配置
251 |             if let identity = certificateManager.getIdentity(for: deviceId) {
    |                    `- warning: value 'identity' was defined but never used; consider replacing with boolean test [#no-usage]
252 |                 // 注意：身份设置需要通过其他方式实现
253 |                 // 由于API限制，这里暂时跳过身份配置

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:325:33: warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
323 |     private func verifyCertificateChain(_ trust: SecTrust, for deviceId: String) -> Bool {
324 |         // 获取证书链中的第一个证书（叶子证书）
325 |         guard let certificate = SecTrustGetCertificateAtIndex(trust, 0) else {
    |                                 |- warning: 'SecTrustGetCertificateAtIndex' was deprecated in macOS 12.0: renamed to 'SecTrustCopyCertificateChain(_:)' [#DeprecatedDeclaration]
    |                                 `- note: use 'SecTrustCopyCertificateChain(_:)' instead
326 |             print("❌ 无法获取证书")
327 |             return false

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:477:13: warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
475 |         // 获取证书数据
476 |         let certificateData = SecCertificateCopyData(certificate)
477 |         let data = CFDataGetBytePtr(certificateData)
    |             `- warning: initialization of immutable value 'data' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
478 |         let length = CFDataGetLength(certificateData)
479 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Security/TLSSecurityManager.swift:511:19: warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
509 |         }
510 |         
511 |         guard let publicKey = SecKeyCopyPublicKey(privateKey) else {
    |                   `- warning: value 'publicKey' was defined but never used; consider replacing with boolean test [#no-usage]
512 |             print("❌ 获取公钥失败")
513 |             return nil

[#DeprecatedDeclaration]: <https://docs.swift.org/compiler/documentation/diagnostics/deprecated-declaration>
[#SendableClosureCaptures]: <https://docs.swift.org/compiler/documentation/diagnostics/sendable-closure-captures>
[62/77] Compiling SkyBridgeCore P2PDiscoveryService.swift
[63/77] Compiling SkyBridgeCore P2PModels.swift
[64/77] Compiling SkyBridgeCore P2PNetworkManager.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkManager.swift:53:21: warning: no 'async' operations occur within 'await' expression
 51 |         
 52 |         do {
 53 |             _ = try await discoveryService.startDiscovery()
    |                     `- warning: no 'async' operations occur within 'await' expression
 54 |             
 55 |             // 监听发现的设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkManager.swift:53:17: warning: no calls to throwing functions occur within 'try' expression
 51 |         
 52 |         do {
 53 |             _ = try await discoveryService.startDiscovery()
    |                 `- warning: no calls to throwing functions occur within 'try' expression
 54 |             
 55 |             // 监听发现的设备

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkManager.swift:66:11: warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 64 |             startDiscoveryTimer()
 65 |             
 66 |         } catch {
    |           `- warning: 'catch' block is unreachable because no errors are thrown in 'do' block
 67 |             print("启动设备发现失败: \(error)")
 68 |             networkState = .disconnected
[65/77] Compiling SkyBridgeCore P2PNetworkLayer.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkLayer.swift:350:37: warning: call to main actor-isolated instance method 'getLocalIPAddresses()' in a synchronous nonisolated context [#ActorIsolatedCall]
348 |             
349 |             // 获取本地IP地址
350 |             if let addresses = self.getLocalIPAddresses() {
    |                                     `- warning: call to main actor-isolated instance method 'getLocalIPAddresses()' in a synchronous nonisolated context [#ActorIsolatedCall]
351 |                 for address in addresses {
352 |                     let udpEndpoint = NWEndpoint.hostPort(
    :
370 |     
371 |     /// 获取本地IP地址
372 |     private func getLocalIPAddresses() -> [String]? {
    |                  `- note: calls to instance method 'getLocalIPAddresses()' from outside of its actor context are implicitly asynchronous
373 |         var addresses: [String] = []
374 |         var ifaddr: UnsafeMutablePointer<ifaddrs>?

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkLayer.swift:366:18: warning: main actor-isolated property 'localEndpoints' can not be mutated from a Sendable closure
 41 |     private var networkMonitor: NWPathMonitor?
 42 |     private var currentNetworkPath: NWPath?
 43 |     private var localEndpoints: [NWEndpoint] = []
    |                 `- note: mutation of this property is only permitted within the actor
 44 |     
 45 |     // 回调和代理
    :
364 |             }
365 |             
366 |             self.localEndpoints = endpoints
    |                  `- warning: main actor-isolated property 'localEndpoints' can not be mutated from a Sendable closure
367 |             print("🏠 发现本地端点: \(endpoints.count)个")
368 |         }

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkLayer.swift:518:13: warning: initialization of immutable value 'connection' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
516 |         
517 |         let nwConnection = NWConnection(to: endpoint, using: parameters)
518 |         let connection = P2PConnection(device: device, connection: nwConnection, securityManager: securityManager!)
    |             `- warning: initialization of immutable value 'connection' was never used; consider replacing with assignment to '_' or removing it [#no-usage]
519 |         
520 |         pendingConnections[device.id] = PendingP2PConnection(device: device, startTime: Date(), attempts: 1)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkLayer.swift:633:22: warning: call to main actor-isolated instance method 'handleDataReceived(_:from:)' in a synchronous nonisolated context [#ActorIsolatedCall]
631 |                 
632 |                 // 处理接收到的数据
633 |                 self.handleDataReceived(data, from: connection)
    |                      `- warning: call to main actor-isolated instance method 'handleDataReceived(_:from:)' in a synchronous nonisolated context [#ActorIsolatedCall]
634 |             }
635 |             
    :
646 |     
647 |     /// 处理接收到的数据
648 |     private func handleDataReceived(_ data: Data, from connection: P2PConnection) {
    |                  `- note: calls to instance method 'handleDataReceived(_:from:)' from outside of its actor context are implicitly asynchronous
649 |         print("📥 接收数据: \(data.count)字节 来自 \(connection.device.name)")
650 |         

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/P2P/P2PNetworkLayer.swift:642:22: warning: call to main actor-isolated instance method 'setupDataReceiving(for:)' in a synchronous nonisolated context [#ActorIsolatedCall]
617 |     
618 |     /// 设置数据接收
619 |     private func setupDataReceiving(for connection: P2PConnection) {
    |                  `- note: calls to instance method 'setupDataReceiving(for:)' from outside of its actor context are implicitly asynchronous
620 |         // 检查连接状态
621 |         for connection in activeConnections {
    :
640 |             if !isComplete {
641 |                 // 继续接收数据
642 |                 self.setupDataReceiving(for: connection)
    |                      `- warning: call to main actor-isolated instance method 'setupDataReceiving(for:)' in a synchronous nonisolated context [#ActorIsolatedCall]
643 |             }
644 |         }

[#ActorIsolatedCall]: <https://docs.swift.org/compiler/documentation/diagnostics/actor-isolated-call>
[66/77] Compiling SkyBridgeCore DeviceManagementSettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[67/77] Compiling SkyBridgeCore DeviceManagementView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[68/77] Compiling SkyBridgeCore SettingsView.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[69/77] Compiling SkyBridgeCore WeatherDataService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[70/77] Compiling SkyBridgeCore WeatherLocationService.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
[71/77] Compiling SkyBridgeCore resource_bundle_accessor.swift
/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMetricCard.swift:25:16: error: 'TrendDirection' is ambiguous for type lookup in this context
 23 |         icon: String,
 24 |         color: Color = Color.blue,
 25 |         trend: TrendDirection? = nil,
    |                `- error: 'TrendDirection' is ambiguous for type lookup in this context
 26 |         isLoading: Bool = false
 27 |     ) {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Performance/ThermalManager.swift:307:13: note: found this candidate
305 | 
306 | /// 温度趋势方向
307 | public enum TrendDirection: String {
    |             `- note: found this candidate
308 |     case rising = "上升"
309 |     case falling = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/SystemMonitor/SystemMonitorManager.swift:279:13: note: found this candidate
277 | // MARK: - 趋势方向枚举
278 | 
279 | public enum TrendDirection: String, CaseIterable {
    |             `- note: found this candidate
280 |     case up = "上升"
281 |     case down = "下降"

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:245:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 243 |                     VStack(alignment: .leading, spacing: 12) {
 244 |                         Toggle("启动时自动扫描设备", isOn: $settingsManager.autoScanOnStartup)
 245 |                             .onChange(of: settingsManager.autoScanOnStartup) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 246 |                                 // 实际保存设置到UserDefaults
 247 |                                 UserDefaults.standard.set(newValue, forKey: "AutoScanOnStartup")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:252:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 250 |                         
 251 |                         Toggle("显示系统通知", isOn: $settingsManager.showSystemNotifications)
 252 |                             .onChange(of: settingsManager.showSystemNotifications) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 253 |                                 // 请求通知权限
 254 |                                 if newValue {

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:262:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 260 |                         
 261 |                         Toggle("深色模式", isOn: $settingsManager.useDarkMode)
 262 |                             .onChange(of: settingsManager.useDarkMode) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 263 |                                 // 实际切换应用主题
 264 |                                 applyThemeMode(newValue ? "dark" : "light")

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:279:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 277 |                             .pickerStyle(MenuPickerStyle())
 278 |                             .frame(width: 100)
 279 |                             .onChange(of: settingsManager.scanInterval) { _, newValue in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 280 |                                 // 更新扫描定时器
 281 |                                 updateScanInterval(newValue)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:292:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 290 |                     VStack(alignment: .leading, spacing: 12) {
 291 |                         Toggle("显示设备详细信息", isOn: $settingsManager.showDeviceDetails)
 292 |                             .onChange(of: settingsManager.showDeviceDetails) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 293 |                                 UserDefaults.standard.set(settingsManager.showDeviceDetails, forKey: "ShowDeviceDetails")
 294 |                                 // 通知其他组件更新显示模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:300:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 298 |                         
 299 |                         Toggle("显示连接统计", isOn: $settingsManager.showConnectionStats)
 300 |                             .onChange(of: settingsManager.showConnectionStats) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 301 |                                 UserDefaults.standard.set(settingsManager.showConnectionStats, forKey: "ShowConnectionStats")
 302 |                                 NotificationCenter.default.post(name: NSNotification.Name("ConnectionStatsDisplayChanged"), object: nil)

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:307:30: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 305 |                         
 306 |                         Toggle("紧凑模式", isOn: $settingsManager.compactMode)
 307 |                             .onChange(of: settingsManager.compactMode) { _, _ in
     |                              |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                              `- note: add 'if #available' version check
 308 |                                 UserDefaults.standard.set(settingsManager.compactMode, forKey: "CompactMode")
 309 |                                 // 实际切换布局模式

/Users/macbookpro/Skybridge-Compass-2/macos/SkyBridgeCompassApp/Sources/SkyBridgeCore/Views/SettingsView.swift:318:34: error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
   5 | /// 设置界面 - 提供完整的应用配置和设备管理设置
   6 | /// 适配平铺显示模式，符合macOS设计规范
   7 | public struct SettingsView: View {
     |               `- note: add '@available' attribute to enclosing struct
   8 |     
   9 |     // MARK: - 状态管理
     :
 237 |     
 238 |     // MARK: - 通用设置
 239 |     private var generalSettings: some View {
     |                 `- note: add '@available' attribute to enclosing property
 240 |         ScrollView {
 241 |             VStack(alignment: .leading, spacing: 20) {
     :
 316 |                             ColorPicker("", selection: $settingsManager.themeColor)
 317 |                                 .frame(width: 50)
 318 |                                 .onChange(of: settingsManager.themeColor) { _, newColor in
     |                                  |- error: 'onChange(of:initial:_:)' is only available in macOS 14.0 or newer
     |                                  `- note: add 'if #available' version check
 319 |                                     // 实际应用主题色彩
 320 |                                     applyThemeColor(newColor)
